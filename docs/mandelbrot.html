<!DOCTYPE html>
<html>
<head>
<script data-type="complexfunctions">
  class complex {
    constructor(r,i) {
      this.r = r
      this.i = i
    }
  }
  function modular(z) {
   return Math.pow((z.r*z.r)+(z.i*z.i),0.5) 
  }
  function divide(z,c) {
   return new complex(((z.r*c.r)+(z.i*c.i))/((c.r*c.r)+(c.i*c.i)),((z.i*c.r)+(z.r*c.i))/((c.r*c.r)+(c.i*c.i)))
  }
  function multiply(z,c) {
   let returnR = (new complex((z.r*c.r)-(c.i*z.i),((c.r+c.i)*(z.r+z.i))-((z.r*c.r)+(z.i*c.i))))
   return returnR
  }
</script>
<style>
  .header{
   font-size: 50px;
   font-family: Arial;
   text-align: center;
  }
  .center-canvas{
   padding: 0;
   display: block;
   margin: auto;
   width: 500px;
  }
</style>
</head>
<body>
<p class="header">Domain Coloring Testing</p>
<p id="test"></p>
<br>
<canvas class="center-canvas" id="mandelbrot" width="500" height="500"></canvas>
<script>
function transform(input) {
 returnRA = multiply(input,new complex(2,0))
 return returnRA
}
const testc = multiply(new complex(4,0),new complex(4,0))
document.getElementById("test").innerHTML = testc.r.toString() + " + " + testc.i.toString() + "i"
function clamp(value,min,max) {
 return Math.min(max,Math.max(value,min))
}
var fractal = document.getElementById("mandelbrot")
var ctx = fractal.getContext("2d")
for (let x = 0; x < 500; x++) {
 for (let y = 0; y < 500; y++) {
  let point = transform(new complex(x-250,y-250))
  
  ctx.fillStyle = `HSL(${(((360/(2*Math.PI))*Math.atan2(point.i - 250,point.r - 250)))%360},100%,${100-clamp((50*modular(point)),0,50)}%)`
  ctx.fillRect(x,y,1,1) 
 }
}
</script>
</body>
</html>
