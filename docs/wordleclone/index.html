<!DOCTYPE html>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
You are not clever or funny for looking in Inspect Element
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<html>
 <head>
  <title>Testing</title>
  <style>
    h1, p{
     font-family: sans-serif;
     font-size: 30px;
     margin: auto 0px;
     text-align: center;
    }
    .flex-container{
     margin: 0 auto;
     display: flex;
     flex-wrap: wrap;
     width: 330px;
     height: 396px;
    }
    .flex-container > div{
     background-color: #FFFFFF;
     width: 50px;
     height: 50px;
     margin: 5px 5px;
     font-family: sans-serif;
     font-size: 40px;
     text-align: center;
     border: 3px solid black;
    }
    .spacer{
     height: 50px;
     width: 1px;
    }
    body{
     background-color: #EFEAE0
    }
  </style>
  <script>
   typedCharacters = ["_","_","_","_","_"];
   charNumber = 0;
   rowNumber = 0;
   function getWords(a){
    switch(a){
     case "letters":
      return document.querySelectorAll(".flex-container > div");
      break;
     case "words":
      fetch("words.txt")
      .then((response) => {return response.text()})
      .then((data) => {
      let text = data;
      let wordslist = text.split("\n");
      return wordslist;
      })
     break;
    }
   }
   function load(){
    getWords("letters").forEach(function(letter) {
     letter.innerHTML = "_";
    })               
    document.querySelector("#debug").innerHTML = getWords("words")[5]
   }
  </script>
  <script>
   document.addEventListener("keydown",function a() {
    if(charNumber < 5) {
     if(/^[a-zA-Z]$/.test(event.key)) {
       typedCharacters[charNumber] = event.key.toUpperCase();
       getWords("letters")[charNumber+(5*rowNumber)].innerHTML = typedCharacters[charNumber]
       charNumber = charNumber + 1;
       console.log(event.key);  
     }
    } else if(event.key == "Enter") {
     if(rowNumber < 5) {
      if(getWords("words").includes(typedCharacters.join("").toLowercase())) {
       charNumber = 0;
       rowNumber = rowNumber + 1;
       getWords("letters").forEach(function a(letter){words.setAttribute("style","background-color:#CDCDCD;")})
      }
     }
    }
    if(event.key == "Backspace") {
      if(charNumber > 0){
       charNumber = charNumber - 1;
       typedCharacters[charNumber] = "_"
       getWords("letters")[charNumber+(5*rowNumber)].innerHTML = typedCharacters[charNumber]
      }
    }
   })
  </script>
 </head>
 <body onload="load()">
  <noscript>
   <h1>Please allow Javascript on this page!</h1>
  </noscript>
   <p>Bad Wordle Clone<p>
   <div class="spacer"></div>
   <div id="debug">Debug</div>
   <div class="flex-container">
    <div>B</div>
    <div>A</div>
    <div>D</div>
    <div>W</div>
    <div>O</div>
    <div>R</div>
    <div>D</div>
    <div>L</div>
    <div>E</div>
    <div>C</div>
    <div>L</div>
    <div>O</div>
    <div>N</div>
    <div>E</div>
    <div>B</div>
    <div>A</div>
    <div>D</div>
    <div>W</div>
    <div>O</div>
    <div>R</div>
    <div>D</div>
    <div>L</div>
    <div>E</div>
    <div>C</div>
    <div>L</div>
    <div>O</div>
    <div>N</div>
    <div>E</div>
    <div>B</div>
    <div>A</div>
   </div>
 </body>
</html>
